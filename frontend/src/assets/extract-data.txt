// code to extract data from alpha vantage
// render to HTML table 
// copy table and process in excel

import { Injectable } from '@angular/core';
import { HttpClient, HttpHeaders } from '@angular/common/http';
import { forkJoin, Observable } from 'rxjs';
import { Symbol } from '../model/Symbol';
import { map, mergeMap } from 'rxjs/operators';

@Injectable({
  providedIn: 'root'
})
export class SymbolService {
  TIMESTAMP = [
    {timestamp: '2021-07-14 09:30:00'},
    {timestamp: "2021-07-14 09:30:30"},
    {timestamp: "2021-07-14 09:31:00"},
    {timestamp: "2021-07-14 09:31:30"},
    {timestamp: "2021-07-14 09:32:00"},
    {timestamp: "2021-07-14 09:32:30"},
    {timestamp: "2021-07-14 09:33:00"},
    {timestamp: "2021-07-14 09:33:30"},
    {timestamp: "2021-07-14 09:34:00"},
    {timestamp: "2021-07-14 09:34:30"},
    {timestamp: "2021-07-14 09:35:00"},
    {timestamp: "2021-07-14 09:35:30"},
    {timestamp: "2021-07-14 09:36:00"},
    {timestamp: "2021-07-14 09:36:30"},
    {timestamp: "2021-07-14 09:37:00"},
    {timestamp: "2021-07-14 09:37:30"},
    {timestamp: "2021-07-14 09:38:00"},
    {timestamp: "2021-07-14 09:38:30"},
    {timestamp: "2021-07-14 09:39:00"},
    {timestamp: "2021-07-14 09:39:30"},
    {timestamp: "2021-07-14 09:40:00"},
    {timestamp: "2021-07-14 09:40:30"},
    {timestamp: "2021-07-14 09:41:00"},
    {timestamp: "2021-07-14 09:41:30"},
    {timestamp: "2021-07-14 09:42:00"},
    {timestamp: "2021-07-14 09:42:30"},
    {timestamp: "2021-07-14 09:43:00"},
    {timestamp: "2021-07-14 09:43:30"},
    {timestamp: "2021-07-14 09:44:00"},
    {timestamp: "2021-07-14 09:44:30"},
    {timestamp: "2021-07-14 09:45:00"},
    {timestamp: "2021-07-14 09:45:30"},
    {timestamp: "2021-07-14 09:46:00"},
    {timestamp: "2021-07-14 09:46:30"},
    {timestamp: "2021-07-14 09:47:00"},
    {timestamp: "2021-07-14 09:47:30"},
    {timestamp: "2021-07-14 09:48:00"},
    {timestamp: "2021-07-14 09:48:30"},
    {timestamp: "2021-07-14 09:49:00"},
    {timestamp: "2021-07-14 09:49:30"},
    {timestamp: "2021-07-14 09:50:00"},
    {timestamp: "2021-07-14 09:50:30"},
    {timestamp: "2021-07-14 09:51:00"},
    {timestamp: "2021-07-14 09:51:30"},
    {timestamp: "2021-07-14 09:52:00"},
    {timestamp: "2021-07-14 09:52:30"},
    {timestamp: "2021-07-14 09:53:00"},
    {timestamp: "2021-07-14 09:53:30"},
    {timestamp: "2021-07-14 09:54:00"},
    {timestamp: "2021-07-14 09:54:30"},
    {timestamp: "2021-07-14 09:55:00"},
    {timestamp: "2021-07-14 09:55:30"},
    {timestamp: "2021-07-14 09:56:01"},
    {timestamp: "2021-07-14 09:56:31"},
    {timestamp: "2021-07-14 09:57:02"},
    {timestamp: "2021-07-14 09:57:32"},
    {timestamp: "2021-07-14 09:58:02"},
    {timestamp: "2021-07-14 09:58:33"},
    {timestamp: "2021-07-14 09:59:03"},
    {timestamp: "2021-07-14 09:59:34"},
    {timestamp: "2021-07-14 10:00:00"},
    {timestamp: "2021-07-14 10:00:30"},
    {timestamp: "2021-07-14 10:01:00"},
    {timestamp: "2021-07-14 10:01:30"},
    {timestamp: "2021-07-14 10:02:00"},
    {timestamp: "2021-07-14 10:02:30"},
    {timestamp: "2021-07-14 10:03:00"},
    {timestamp: "2021-07-14 10:03:30"},
    {timestamp: "2021-07-14 10:04:00"},
    {timestamp: "2021-07-14 10:04:30"},
    {timestamp: "2021-07-14 10:05:00"},
    {timestamp: "2021-07-14 10:05:30"},
    {timestamp: "2021-07-14 10:06:00"},
    {timestamp: "2021-07-14 10:06:30"},
    {timestamp: "2021-07-14 10:07:00"},
    {timestamp: "2021-07-14 10:07:30"},
    {timestamp: "2021-07-14 10:08:00"},
    {timestamp: "2021-07-14 10:08:30"},
    {timestamp: "2021-07-14 10:09:00"},
    {timestamp: "2021-07-14 10:09:30"},
    {timestamp: "2021-07-14 10:10:00"},
    {timestamp: "2021-07-14 10:10:30"},
    {timestamp: "2021-07-14 10:11:00"},
    {timestamp: "2021-07-14 10:11:30"},
    {timestamp: "2021-07-14 10:12:00"},
    {timestamp: "2021-07-14 10:12:30"},
    {timestamp: "2021-07-14 10:12:59"},
    {timestamp: "2021-07-14 10:13:29"},
    {timestamp: "2021-07-14 10:13:59"},
    {timestamp: "2021-07-14 10:14:29"},
    {timestamp: "2021-07-14 10:15:00"},
    {timestamp: "2021-07-14 10:15:31"},
    {timestamp: "2021-07-14 10:16:02"},
    {timestamp: "2021-07-14 10:16:33"},
    {timestamp: "2021-07-14 10:17:03"},
    {timestamp: "2021-07-14 10:17:34"},
    {timestamp: "2021-07-14 10:18:05"},
    {timestamp: "2021-07-14 10:18:36"},
    {timestamp: "2021-07-14 10:19:07"},
    {timestamp: "2021-07-14 10:19:38"},
    {timestamp: "2021-07-14 10:20:00"},
    {timestamp: "2021-07-14 10:20:30"},
    {timestamp: "2021-07-14 10:21:00"},
    {timestamp: "2021-07-14 10:21:30"},
    {timestamp: "2021-07-14 10:22:00"},
    {timestamp: "2021-07-14 10:22:30"},
    {timestamp: "2021-07-14 10:23:00"},
    {timestamp: "2021-07-14 10:23:30"},
    {timestamp: "2021-07-14 10:24:00"},
    {timestamp: "2021-07-14 10:24:30"},
    {timestamp: "2021-07-14 10:25:00"},
    {timestamp: "2021-07-14 10:25:30"},
    {timestamp: "2021-07-14 10:26:00"},
    {timestamp: "2021-07-14 10:26:30"},
    {timestamp: "2021-07-14 10:27:00"},
    {timestamp: "2021-07-14 10:27:30"},
    {timestamp: "2021-07-14 10:28:00"},
    {timestamp: "2021-07-14 10:28:30"},
    {timestamp: "2021-07-14 10:29:00"},
    {timestamp: "2021-07-14 10:29:30"},
    {timestamp: "2021-07-14 10:30:00"},
    {timestamp: "2021-07-14 10:30:30"},
    {timestamp: "2021-07-14 10:31:01"},
    {timestamp: "2021-07-14 10:31:31"},
    {timestamp: "2021-07-14 10:32:01"},
    {timestamp: "2021-07-14 10:32:32"},
    {timestamp: "2021-07-14 10:33:02"},
    {timestamp: "2021-07-14 10:33:33"},
    {timestamp: "2021-07-14 10:34:03"},
    {timestamp: "2021-07-14 10:34:30"},
    {timestamp: "2021-07-14 10:35:00"},
    {timestamp: "2021-07-14 10:35:30"},
    {timestamp: "2021-07-14 10:36:00"},
    {timestamp: "2021-07-14 10:36:30"},
    {timestamp: "2021-07-14 10:37:00"},
    {timestamp: "2021-07-14 10:37:30"},
    {timestamp: "2021-07-14 10:38:00"},
    {timestamp: "2021-07-14 10:38:30"},
    {timestamp: "2021-07-14 10:39:00"},
    {timestamp: "2021-07-14 10:39:30"},
    {timestamp: "2021-07-14 10:40:00"},
    {timestamp: "2021-07-14 10:40:30"},
    {timestamp: "2021-07-14 10:41:00"},
    {timestamp: "2021-07-14 10:41:30"},
    {timestamp: "2021-07-14 10:42:00"},
    {timestamp: "2021-07-14 10:42:30"},
    {timestamp: "2021-07-14 10:43:00"},
    {timestamp: "2021-07-14 10:43:30"},
    {timestamp: "2021-07-14 10:44:00"},
    {timestamp: "2021-07-14 10:44:30"},
    {timestamp: "2021-07-14 10:45:00"},
    {timestamp: "2021-07-14 10:45:30"},
    {timestamp: "2021-07-14 10:46:00"},
    {timestamp: "2021-07-14 10:46:30"},
    {timestamp: "2021-07-14 10:47:01"},
    {timestamp: "2021-07-14 10:47:31"},
    {timestamp: "2021-07-14 10:48:02"},
    {timestamp: "2021-07-14 10:48:32"},
    {timestamp: "2021-07-14 10:49:03"},
    {timestamp: "2021-07-14 10:49:30"},
    {timestamp: "2021-07-14 10:50:00"},
    {timestamp: "2021-07-14 10:50:30"},
    {timestamp: "2021-07-14 10:51:00"},
    {timestamp: "2021-07-14 10:51:30"},
    {timestamp: "2021-07-14 10:52:00"},
    {timestamp: "2021-07-14 10:52:30"},
    {timestamp: "2021-07-14 10:53:00"},
    {timestamp: "2021-07-14 10:53:30"},
    {timestamp: "2021-07-14 10:54:00"},
    {timestamp: "2021-07-14 10:54:30"},
    {timestamp: "2021-07-14 10:55:00"},
    {timestamp: "2021-07-14 10:55:30"},
    {timestamp: "2021-07-14 10:56:00"},
    {timestamp: "2021-07-14 10:56:30"},
    {timestamp: "2021-07-14 10:57:00"},
    {timestamp: "2021-07-14 10:57:30"},
    {timestamp: "2021-07-14 10:58:00"},
    {timestamp: "2021-07-14 10:58:30"},
    {timestamp: "2021-07-14 10:59:00"},
    {timestamp: "2021-07-14 10:59:30"},
    {timestamp: "2021-07-14 11:00:00"},
    {timestamp: "2021-07-14 11:00:30"},
    {timestamp: "2021-07-14 11:01:00"},
    {timestamp: "2021-07-14 11:01:30"},
    {timestamp: "2021-07-14 11:02:00"},
    {timestamp: "2021-07-14 11:02:30"},
    {timestamp: "2021-07-14 11:03:00"},
    {timestamp: "2021-07-14 11:03:30"},
    {timestamp: "2021-07-14 11:04:00"},
    {timestamp: "2021-07-14 11:04:30"},
    {timestamp: "2021-07-14 11:05:00"},
    {timestamp: "2021-07-14 11:05:30"},
    {timestamp: "2021-07-14 11:06:00"},
    {timestamp: "2021-07-14 11:06:30"},
    {timestamp: "2021-07-14 11:07:00"},
    {timestamp: "2021-07-14 11:07:30"},
    {timestamp: "2021-07-14 11:08:00"},
    {timestamp: "2021-07-14 11:08:30"},
    {timestamp: "2021-07-14 11:09:01"},
    {timestamp: "2021-07-14 11:09:31"},
    {timestamp: "2021-07-14 11:10:00"},
    {timestamp: "2021-07-14 11:10:29"},
    {timestamp: "2021-07-14 11:11:00"},
    {timestamp: "2021-07-14 11:11:31"},
    {timestamp: "2021-07-14 11:12:03"},
    {timestamp: "2021-07-14 11:12:34"},
    {timestamp: "2021-07-14 11:13:06"},
    {timestamp: "2021-07-14 11:13:37"},
    {timestamp: "2021-07-14 11:14:08"},
    {timestamp: "2021-07-14 11:14:40"},
    {timestamp: "2021-07-14 11:15:00"},
    {timestamp: "2021-07-14 11:15:30"},
    {timestamp: "2021-07-14 11:16:00"},
    {timestamp: "2021-07-14 11:16:30"},
    {timestamp: "2021-07-14 11:17:00"},
    {timestamp: "2021-07-14 11:17:30"},
    {timestamp: "2021-07-14 11:18:00"},
    {timestamp: "2021-07-14 11:18:30"},
    {timestamp: "2021-07-14 11:19:00"},
    {timestamp: "2021-07-14 11:19:30"},
    {timestamp: "2021-07-14 11:20:00"},
    {timestamp: "2021-07-14 11:20:30"},
    {timestamp: "2021-07-14 11:21:00"},
    {timestamp: "2021-07-14 11:21:30"},
    {timestamp: "2021-07-14 11:22:00"},
    {timestamp: "2021-07-14 11:22:30"},
    {timestamp: "2021-07-14 11:23:00"},
    {timestamp: "2021-07-14 11:23:30"},
    {timestamp: "2021-07-14 11:24:00"},
    {timestamp: "2021-07-14 11:24:30"},
    {timestamp: "2021-07-14 11:25:00"},
    {timestamp: "2021-07-14 11:25:30"},
    {timestamp: "2021-07-14 11:26:00"},
    {timestamp: "2021-07-14 11:26:30"},
    {timestamp: "2021-07-14 11:27:00"},
    {timestamp: "2021-07-14 11:27:30"},
    {timestamp: "2021-07-14 11:28:00"},
    {timestamp: "2021-07-14 11:28:30"},
    {timestamp: "2021-07-14 11:29:00"},
    {timestamp: "2021-07-14 11:29:30"},
    {timestamp: "2021-07-14 11:30:00"},
    {timestamp: "2021-07-14 11:30:30"},
    {timestamp: "2021-07-14 11:30:59"},
    {timestamp: "2021-07-14 11:31:29"},
    {timestamp: "2021-07-14 11:31:58"},
    {timestamp: "2021-07-14 11:32:28"},
    {timestamp: "2021-07-14 11:32:57"},
    {timestamp: "2021-07-14 11:33:27"},
    {timestamp: "2021-07-14 11:33:56"},
    {timestamp: "2021-07-14 11:34:26"},
    {timestamp: "2021-07-14 11:35:00"},
    {timestamp: "2021-07-14 11:35:34"},
    {timestamp: "2021-07-14 11:36:08"},
    {timestamp: "2021-07-14 11:36:42"},
    {timestamp: "2021-07-14 11:37:16"},
    {timestamp: "2021-07-14 11:37:50"},
    {timestamp: "2021-07-14 11:38:24"},
    {timestamp: "2021-07-14 11:38:58"},
    {timestamp: "2021-07-14 11:39:00"},
    {timestamp: "2021-07-14 11:39:30"},
    {timestamp: "2021-07-14 11:40:00"},
    {timestamp: "2021-07-14 11:40:30"},
    {timestamp: "2021-07-14 11:41:00"},
    {timestamp: "2021-07-14 11:41:30"},
    {timestamp: "2021-07-14 11:42:00"},
    {timestamp: "2021-07-14 11:42:30"},
    {timestamp: "2021-07-14 11:43:00"},
    {timestamp: "2021-07-14 11:43:30"},
    {timestamp: "2021-07-14 11:44:00"},
    {timestamp: "2021-07-14 11:44:30"},
    {timestamp: "2021-07-14 11:45:00"},
    {timestamp: "2021-07-14 11:45:30"},
    {timestamp: "2021-07-14 11:46:00"},
    {timestamp: "2021-07-14 11:46:30"},
    {timestamp: "2021-07-14 11:47:00"},
    {timestamp: "2021-07-14 11:47:30"},
    {timestamp: "2021-07-14 11:48:00"},
    {timestamp: "2021-07-14 11:48:30"},
    {timestamp: "2021-07-14 11:49:00"},
    {timestamp: "2021-07-14 11:49:30"},
    {timestamp: "2021-07-14 11:50:00"},
    {timestamp: "2021-07-14 11:50:30"},
    {timestamp: "2021-07-14 11:51:00"},
    {timestamp: "2021-07-14 11:51:30"},
    {timestamp: "2021-07-14 11:52:00"},
    {timestamp: "2021-07-14 11:52:30"},
    {timestamp: "2021-07-14 11:53:00"},
    {timestamp: "2021-07-14 11:53:30"},
    {timestamp: "2021-07-14 11:54:01"},
    {timestamp: "2021-07-14 11:54:31"},
    {timestamp: "2021-07-14 11:55:00"},
    {timestamp: "2021-07-14 11:55:30"},
    {timestamp: "2021-07-14 11:56:00"},
    {timestamp: "2021-07-14 11:56:30"},
    {timestamp: "2021-07-14 11:57:00"},
    {timestamp: "2021-07-14 11:57:30"},
    {timestamp: "2021-07-14 11:58:00"},
    {timestamp: "2021-07-14 11:58:30"},
    {timestamp: "2021-07-14 11:59:00"},
    {timestamp: "2021-07-14 11:59:30"},
    {timestamp: "2021-07-14 12:00:00"},
    {timestamp: "2021-07-14 12:00:30"},
    {timestamp: "2021-07-14 12:01:00"},
    {timestamp: "2021-07-14 12:01:30"},
    {timestamp: "2021-07-14 12:02:00"},
    {timestamp: "2021-07-14 12:02:30"},
    {timestamp: "2021-07-14 12:03:00"},
    {timestamp: "2021-07-14 12:03:30"},
    {timestamp: "2021-07-14 12:04:00"},
    {timestamp: "2021-07-14 12:04:30"},
    {timestamp: "2021-07-14 12:05:00"},
    {timestamp: "2021-07-14 12:05:30"},
    {timestamp: "2021-07-14 12:06:00"},
    {timestamp: "2021-07-14 12:06:30"},
    {timestamp: "2021-07-14 12:07:01"},
    {timestamp: "2021-07-14 12:07:31"},
    {timestamp: "2021-07-14 12:08:02"},
    {timestamp: "2021-07-14 12:08:32"},
    {timestamp: "2021-07-14 12:09:03"},
    {timestamp: "2021-07-14 12:09:33"},
    {timestamp: "2021-07-14 12:10:00"},
    {timestamp: "2021-07-14 12:10:27"},
    {timestamp: "2021-07-14 12:11:00"},
    {timestamp: "2021-07-14 12:11:33"},
    {timestamp: "2021-07-14 12:12:06"},
    {timestamp: "2021-07-14 12:12:39"},
    {timestamp: "2021-07-14 12:13:13"},
    {timestamp: "2021-07-14 12:13:46"},
    {timestamp: "2021-07-14 12:14:19"},
    {timestamp: "2021-07-14 12:14:30"},
    {timestamp: "2021-07-14 12:15:00"},
    {timestamp: "2021-07-14 12:15:30"},
    {timestamp: "2021-07-14 12:16:00"},
    {timestamp: "2021-07-14 12:16:30"},
    {timestamp: "2021-07-14 12:17:00"},
    {timestamp: "2021-07-14 12:17:30"},
    {timestamp: "2021-07-14 12:18:00"},
    {timestamp: "2021-07-14 12:18:30"},
    {timestamp: "2021-07-14 12:19:00"},
    {timestamp: "2021-07-14 12:19:30"},
    {timestamp: "2021-07-14 12:20:00"},
    {timestamp: "2021-07-14 12:20:30"},
    {timestamp: "2021-07-14 12:21:00"},
    {timestamp: "2021-07-14 12:21:30"},
    {timestamp: "2021-07-14 12:22:00"},
    {timestamp: "2021-07-14 12:22:30"},
    {timestamp: "2021-07-14 12:23:00"},
    {timestamp: "2021-07-14 12:23:30"},
    {timestamp: "2021-07-14 12:24:00"},
    {timestamp: "2021-07-14 12:24:30"},
    {timestamp: "2021-07-14 12:25:00"},
    {timestamp: "2021-07-14 12:25:30"},
    {timestamp: "2021-07-14 12:26:00"},
    {timestamp: "2021-07-14 12:26:30"},
    {timestamp: "2021-07-14 12:27:00"},
    {timestamp: "2021-07-14 12:27:30"},
    {timestamp: "2021-07-14 12:28:00"},
    {timestamp: "2021-07-14 12:28:30"},
    {timestamp: "2021-07-14 12:29:01"},
    {timestamp: "2021-07-14 12:29:31"},
    {timestamp: "2021-07-14 12:30:00"},
    {timestamp: "2021-07-14 12:30:29"},
    {timestamp: "2021-07-14 12:31:00"},
    {timestamp: "2021-07-14 12:31:31"},
    {timestamp: "2021-07-14 12:32:03"},
    {timestamp: "2021-07-14 12:32:34"},
    {timestamp: "2021-07-14 12:33:06"},
    {timestamp: "2021-07-14 12:33:37"},
    {timestamp: "2021-07-14 12:34:08"},
    {timestamp: "2021-07-14 12:34:40"},
    {timestamp: "2021-07-14 12:35:00"},
    {timestamp: "2021-07-14 12:35:30"},
    {timestamp: "2021-07-14 12:36:00"},
    {timestamp: "2021-07-14 12:36:30"},
    {timestamp: "2021-07-14 12:37:00"},
    {timestamp: "2021-07-14 12:37:30"},
    {timestamp: "2021-07-14 12:38:00"},
    {timestamp: "2021-07-14 12:38:30"},
    {timestamp: "2021-07-14 12:39:00"},
    {timestamp: "2021-07-14 12:39:30"},
    {timestamp: "2021-07-14 12:40:00"},
    {timestamp: "2021-07-14 12:40:30"},
    {timestamp: "2021-07-14 12:41:00"},
    {timestamp: "2021-07-14 12:41:30"},
    {timestamp: "2021-07-14 12:42:00"},
    {timestamp: "2021-07-14 12:42:30"},
    {timestamp: "2021-07-14 12:43:00"},
    {timestamp: "2021-07-14 12:43:30"},
    {timestamp: "2021-07-14 12:44:00"},
    {timestamp: "2021-07-14 12:44:30"},
    {timestamp: "2021-07-14 12:45:00"},
    {timestamp: "2021-07-14 12:45:30"},
    {timestamp: "2021-07-14 12:46:00"},
    {timestamp: "2021-07-14 12:46:30"},
    {timestamp: "2021-07-14 12:47:00"},
    {timestamp: "2021-07-14 12:47:30"},
    {timestamp: "2021-07-14 12:48:00"},
    {timestamp: "2021-07-14 12:48:30"},
    {timestamp: "2021-07-14 12:49:00"},
    {timestamp: "2021-07-14 12:49:30"},
    {timestamp: "2021-07-14 12:50:00"},
    {timestamp: "2021-07-14 12:50:30"},
    {timestamp: "2021-07-14 12:51:00"},
    {timestamp: "2021-07-14 12:51:30"},
    {timestamp: "2021-07-14 12:52:00"},
    {timestamp: "2021-07-14 12:52:30"},
    {timestamp: "2021-07-14 12:53:00"},
    {timestamp: "2021-07-14 12:53:30"},
    {timestamp: "2021-07-14 12:54:00"},
    {timestamp: "2021-07-14 12:54:30"},
    {timestamp: "2021-07-14 12:55:00"},
    {timestamp: "2021-07-14 12:55:30"},
    {timestamp: "2021-07-14 12:56:01"},
    {timestamp: "2021-07-14 12:56:31"},
    {timestamp: "2021-07-14 12:57:02"},
    {timestamp: "2021-07-14 12:57:32"},
    {timestamp: "2021-07-14 12:58:02"},
    {timestamp: "2021-07-14 12:58:33"},
    {timestamp: "2021-07-14 12:59:03"},
    {timestamp: "2021-07-14 12:59:34"},
    {timestamp: "2021-07-14 13:00:00"},
    {timestamp: "2021-07-14 13:00:26"},
    {timestamp: "2021-07-14 13:01:00"},
    {timestamp: "2021-07-14 13:01:34"},
    {timestamp: "2021-07-14 13:02:07"},
    {timestamp: "2021-07-14 13:02:41"},
    {timestamp: "2021-07-14 13:03:15"},
    {timestamp: "2021-07-14 13:03:49"},
    {timestamp: "2021-07-14 13:04:22"},
    {timestamp: "2021-07-14 13:04:56"},
    {timestamp: "2021-07-14 13:05:00"},
    {timestamp: "2021-07-14 13:05:30"},
    {timestamp: "2021-07-14 13:06:00"},
    {timestamp: "2021-07-14 13:06:30"},
    {timestamp: "2021-07-14 13:07:00"},
    {timestamp: "2021-07-14 13:07:30"},
    {timestamp: "2021-07-14 13:08:00"},
    {timestamp: "2021-07-14 13:08:30"},
    {timestamp: "2021-07-14 13:09:00"},
    {timestamp: "2021-07-14 13:09:30"},
    {timestamp: "2021-07-14 13:10:00"},
    {timestamp: "2021-07-14 13:10:30"},
    {timestamp: "2021-07-14 13:11:00"},
    {timestamp: "2021-07-14 13:11:30"},
    {timestamp: "2021-07-14 13:12:00"},
    {timestamp: "2021-07-14 13:12:30"},
    {timestamp: "2021-07-14 13:13:00"},
    {timestamp: "2021-07-14 13:13:30"},
    {timestamp: "2021-07-14 13:14:00"},
    {timestamp: "2021-07-14 13:14:30"},
    {timestamp: "2021-07-14 13:15:00"},
    {timestamp: "2021-07-14 13:15:30"},
    {timestamp: "2021-07-14 13:16:00"},
    {timestamp: "2021-07-14 13:16:30"},
    {timestamp: "2021-07-14 13:17:00"},
    {timestamp: "2021-07-14 13:17:30"},
    {timestamp: "2021-07-14 13:18:00"},
    {timestamp: "2021-07-14 13:18:30"},
    {timestamp: "2021-07-14 13:19:00"},
    {timestamp: "2021-07-14 13:19:30"},
    {timestamp: "2021-07-14 13:20:00"},
    {timestamp: "2021-07-14 13:20:30"},
    {timestamp: "2021-07-14 13:21:00"},
    {timestamp: "2021-07-14 13:21:30"},
    {timestamp: "2021-07-14 13:22:00"},
    {timestamp: "2021-07-14 13:22:30"},
    {timestamp: "2021-07-14 13:22:59"},
    {timestamp: "2021-07-14 13:23:29"},
    {timestamp: "2021-07-14 13:23:59"},
    {timestamp: "2021-07-14 13:24:29"},
    {timestamp: "2021-07-14 13:25:00"},
    {timestamp: "2021-07-14 13:25:30"},
    {timestamp: "2021-07-14 13:26:00"},
    {timestamp: "2021-07-14 13:26:30"},
    {timestamp: "2021-07-14 13:27:00"},
    {timestamp: "2021-07-14 13:27:30"},
    {timestamp: "2021-07-14 13:28:00"},
    {timestamp: "2021-07-14 13:28:30"},
    {timestamp: "2021-07-14 13:29:00"},
    {timestamp: "2021-07-14 13:29:30"},
    {timestamp: "2021-07-14 13:30:00"},
    {timestamp: "2021-07-14 13:30:30"},
    {timestamp: "2021-07-14 13:31:00"},
    {timestamp: "2021-07-14 13:31:30"},
    {timestamp: "2021-07-14 13:32:00"},
    {timestamp: "2021-07-14 13:32:30"},
    {timestamp: "2021-07-14 13:33:00"},
    {timestamp: "2021-07-14 13:33:30"},
    {timestamp: "2021-07-14 13:34:00"},
    {timestamp: "2021-07-14 13:34:30"},
    {timestamp: "2021-07-14 13:35:00"},
    {timestamp: "2021-07-14 13:35:30"},
    {timestamp: "2021-07-14 13:35:59"},
    {timestamp: "2021-07-14 13:36:29"},
    {timestamp: "2021-07-14 13:36:58"},
    {timestamp: "2021-07-14 13:37:28"},
    {timestamp: "2021-07-14 13:37:57"},
    {timestamp: "2021-07-14 13:38:27"},
    {timestamp: "2021-07-14 13:38:56"},
    {timestamp: "2021-07-14 13:39:26"},
    {timestamp: "2021-07-14 13:40:00"},
    {timestamp: "2021-07-14 13:40:30"},
    {timestamp: "2021-07-14 13:41:00"},
    {timestamp: "2021-07-14 13:41:30"},
    {timestamp: "2021-07-14 13:42:00"},
    {timestamp: "2021-07-14 13:42:30"},
    {timestamp: "2021-07-14 13:43:00"},
    {timestamp: "2021-07-14 13:43:30"},
    {timestamp: "2021-07-14 13:44:00"},
    {timestamp: "2021-07-14 13:44:30"},
    {timestamp: "2021-07-14 13:45:00"},
    {timestamp: "2021-07-14 13:45:30"},
    {timestamp: "2021-07-14 13:46:00"},
    {timestamp: "2021-07-14 13:46:30"},
    {timestamp: "2021-07-14 13:47:00"},
    {timestamp: "2021-07-14 13:47:30"},
    {timestamp: "2021-07-14 13:48:00"},
    {timestamp: "2021-07-14 13:48:30"},
    {timestamp: "2021-07-14 13:49:00"},
    {timestamp: "2021-07-14 13:49:30"},
    {timestamp: "2021-07-14 13:50:00"},
    {timestamp: "2021-07-14 13:50:30"},
    {timestamp: "2021-07-14 13:51:00"},
    {timestamp: "2021-07-14 13:51:30"},
    {timestamp: "2021-07-14 13:52:00"},
    {timestamp: "2021-07-14 13:52:30"},
    {timestamp: "2021-07-14 13:53:00"},
    {timestamp: "2021-07-14 13:53:30"},
    {timestamp: "2021-07-14 13:54:00"},
    {timestamp: "2021-07-14 13:54:30"},
    {timestamp: "2021-07-14 13:55:00"},
    {timestamp: "2021-07-14 13:55:30"},
    {timestamp: "2021-07-14 13:56:00"},
    {timestamp: "2021-07-14 13:56:30"},
    {timestamp: "2021-07-14 13:57:00"},
    {timestamp: "2021-07-14 13:57:30"},
    {timestamp: "2021-07-14 13:57:59"},
    {timestamp: "2021-07-14 13:58:29"},
    {timestamp: "2021-07-14 13:58:59"},
    {timestamp: "2021-07-14 13:59:29"},
    {timestamp: "2021-07-14 14:00:00"},
    {timestamp: "2021-07-14 14:00:30"},
    {timestamp: "2021-07-14 14:01:00"},
    {timestamp: "2021-07-14 14:01:30"},
    {timestamp: "2021-07-14 14:02:00"},
    {timestamp: "2021-07-14 14:02:30"},
    {timestamp: "2021-07-14 14:03:00"},
    {timestamp: "2021-07-14 14:03:30"},
    {timestamp: "2021-07-14 14:04:00"},
    {timestamp: "2021-07-14 14:04:30"},
    {timestamp: "2021-07-14 14:05:00"},
    {timestamp: "2021-07-14 14:05:30"},
    {timestamp: "2021-07-14 14:06:00"},
    {timestamp: "2021-07-14 14:06:30"},
    {timestamp: "2021-07-14 14:07:00"},
    {timestamp: "2021-07-14 14:07:30"},
    {timestamp: "2021-07-14 14:08:00"},
    {timestamp: "2021-07-14 14:08:30"},
    {timestamp: "2021-07-14 14:09:00"},
    {timestamp: "2021-07-14 14:09:30"},
    {timestamp: "2021-07-14 14:10:00"},
    {timestamp: "2021-07-14 14:10:30"},
    {timestamp: "2021-07-14 14:11:00"},
    {timestamp: "2021-07-14 14:11:30"},
    {timestamp: "2021-07-14 14:12:00"},
    {timestamp: "2021-07-14 14:12:30"},
    {timestamp: "2021-07-14 14:13:00"},
    {timestamp: "2021-07-14 14:13:30"},
    {timestamp: "2021-07-14 14:14:00"},
    {timestamp: "2021-07-14 14:14:30"},
    {timestamp: "2021-07-14 14:15:00"},
    {timestamp: "2021-07-14 14:15:30"},
    {timestamp: "2021-07-14 14:16:00"},
    {timestamp: "2021-07-14 14:16:30"},
    {timestamp: "2021-07-14 14:17:00"},
    {timestamp: "2021-07-14 14:17:30"},
    {timestamp: "2021-07-14 14:18:00"},
    {timestamp: "2021-07-14 14:18:30"},
    {timestamp: "2021-07-14 14:19:00"},
    {timestamp: "2021-07-14 14:19:30"},
    {timestamp: "2021-07-14 14:20:00"},
    {timestamp: "2021-07-14 14:20:30"},
    {timestamp: "2021-07-14 14:21:00"},
    {timestamp: "2021-07-14 14:21:30"},
    {timestamp: "2021-07-14 14:22:00"},
    {timestamp: "2021-07-14 14:22:30"},
    {timestamp: "2021-07-14 14:23:00"},
    {timestamp: "2021-07-14 14:23:30"},
    {timestamp: "2021-07-14 14:24:00"},
    {timestamp: "2021-07-14 14:24:30"},
    {timestamp: "2021-07-14 14:25:00"},
    {timestamp: "2021-07-14 14:25:30"},
    {timestamp: "2021-07-14 14:26:00"},
    {timestamp: "2021-07-14 14:26:30"},
    {timestamp: "2021-07-14 14:27:00"},
    {timestamp: "2021-07-14 14:27:30"},
    {timestamp: "2021-07-14 14:28:00"},
    {timestamp: "2021-07-14 14:28:30"},
    {timestamp: "2021-07-14 14:29:00"},
    {timestamp: "2021-07-14 14:29:30"},
    {timestamp: "2021-07-14 14:30:00"},
    {timestamp: "2021-07-14 14:30:30"},
    {timestamp: "2021-07-14 14:31:00"},
    {timestamp: "2021-07-14 14:31:30"},
    {timestamp: "2021-07-14 14:32:00"},
    {timestamp: "2021-07-14 14:32:30"},
    {timestamp: "2021-07-14 14:33:00"},
    {timestamp: "2021-07-14 14:33:30"},
    {timestamp: "2021-07-14 14:34:00"},
    {timestamp: "2021-07-14 14:34:30"},
    {timestamp: "2021-07-14 14:35:00"},
    {timestamp: "2021-07-14 14:35:30"},
    {timestamp: "2021-07-14 14:36:00"},
    {timestamp: "2021-07-14 14:36:30"},
    {timestamp: "2021-07-14 14:37:00"},
    {timestamp: "2021-07-14 14:37:30"},
    {timestamp: "2021-07-14 14:38:00"},
    {timestamp: "2021-07-14 14:38:30"},
    {timestamp: "2021-07-14 14:39:00"},
    {timestamp: "2021-07-14 14:39:30"},
    {timestamp: "2021-07-14 14:40:00"},
    {timestamp: "2021-07-14 14:40:30"},
    {timestamp: "2021-07-14 14:41:00"},
    {timestamp: "2021-07-14 14:41:30"},
    {timestamp: "2021-07-14 14:42:00"},
    {timestamp: "2021-07-14 14:42:30"},
    {timestamp: "2021-07-14 14:43:00"},
    {timestamp: "2021-07-14 14:43:30"},
    {timestamp: "2021-07-14 14:44:00"},
    {timestamp: "2021-07-14 14:44:30"},
    {timestamp: "2021-07-14 14:45:00"},
    {timestamp: "2021-07-14 14:45:30"},
    {timestamp: "2021-07-14 14:46:00"},
    {timestamp: "2021-07-14 14:46:30"},
    {timestamp: "2021-07-14 14:47:00"},
    {timestamp: "2021-07-14 14:47:30"},
    {timestamp: "2021-07-14 14:48:00"},
    {timestamp: "2021-07-14 14:48:30"},
    {timestamp: "2021-07-14 14:49:00"},
    {timestamp: "2021-07-14 14:49:30"},
    {timestamp: "2021-07-14 14:50:00"},
    {timestamp: "2021-07-14 14:50:30"},
    {timestamp: "2021-07-14 14:51:00"},
    {timestamp: "2021-07-14 14:51:30"},
    {timestamp: "2021-07-14 14:52:00"},
    {timestamp: "2021-07-14 14:52:30"},
    {timestamp: "2021-07-14 14:53:00"},
    {timestamp: "2021-07-14 14:53:30"},
    {timestamp: "2021-07-14 14:54:00"},
    {timestamp: "2021-07-14 14:54:30"},
    {timestamp: "2021-07-14 14:55:00"},
    {timestamp: "2021-07-14 14:55:30"},
    {timestamp: "2021-07-14 14:56:00"},
    {timestamp: "2021-07-14 14:56:30"},
    {timestamp: "2021-07-14 14:57:00"},
    {timestamp: "2021-07-14 14:57:30"},
    {timestamp: "2021-07-14 14:58:00"},
    {timestamp: "2021-07-14 14:58:30"},
    {timestamp: "2021-07-14 14:59:00"},
    {timestamp: "2021-07-14 14:59:30"},
    {timestamp: "2021-07-14 15:00:00"},
    {timestamp: "2021-07-14 15:00:30"},
    {timestamp: "2021-07-14 15:01:00"},
    {timestamp: "2021-07-14 15:01:30"},
    {timestamp: "2021-07-14 15:02:00"},
    {timestamp: "2021-07-14 15:02:30"},
    {timestamp: "2021-07-14 15:03:00"},
    {timestamp: "2021-07-14 15:03:30"},
    {timestamp: "2021-07-14 15:04:00"},
    {timestamp: "2021-07-14 15:04:30"},
    {timestamp: "2021-07-14 15:05:00"},
    {timestamp: "2021-07-14 15:05:30"},
    {timestamp: "2021-07-14 15:06:00"},
    {timestamp: "2021-07-14 15:06:30"},
    {timestamp: "2021-07-14 15:07:00"},
    {timestamp: "2021-07-14 15:07:30"},
    {timestamp: "2021-07-14 15:08:00"},
    {timestamp: "2021-07-14 15:08:30"},
    {timestamp: "2021-07-14 15:09:00"},
    {timestamp: "2021-07-14 15:09:30"},
    {timestamp: "2021-07-14 15:10:00"},
    {timestamp: "2021-07-14 15:10:30"},
    {timestamp: "2021-07-14 15:11:00"},
    {timestamp: "2021-07-14 15:11:30"},
    {timestamp: "2021-07-14 15:12:00"},
    {timestamp: "2021-07-14 15:12:30"},
    {timestamp: "2021-07-14 15:13:00"},
    {timestamp: "2021-07-14 15:13:30"},
    {timestamp: "2021-07-14 15:14:00"},
    {timestamp: "2021-07-14 15:14:30"},
    {timestamp: "2021-07-14 15:15:00"},
    {timestamp: "2021-07-14 15:15:30"},
    {timestamp: "2021-07-14 15:16:00"},
    {timestamp: "2021-07-14 15:16:30"},
    {timestamp: "2021-07-14 15:17:00"},
    {timestamp: "2021-07-14 15:17:30"},
    {timestamp: "2021-07-14 15:18:00"},
    {timestamp: "2021-07-14 15:18:30"},
    {timestamp: "2021-07-14 15:19:00"},
    {timestamp: "2021-07-14 15:19:30"},
    {timestamp: "2021-07-14 15:20:00"},
    {timestamp: "2021-07-14 15:20:30"},
    {timestamp: "2021-07-14 15:21:00"},
    {timestamp: "2021-07-14 15:21:30"},
    {timestamp: "2021-07-14 15:22:00"},
    {timestamp: "2021-07-14 15:22:30"},
    {timestamp: "2021-07-14 15:23:00"},
    {timestamp: "2021-07-14 15:23:30"},
    {timestamp: "2021-07-14 15:24:00"},
    {timestamp: "2021-07-14 15:24:30"},
    {timestamp: "2021-07-14 15:25:00"},
    {timestamp: "2021-07-14 15:25:30"},
    {timestamp: "2021-07-14 15:26:00"},
    {timestamp: "2021-07-14 15:26:30"},
    {timestamp: "2021-07-14 15:27:00"},
    {timestamp: "2021-07-14 15:27:30"},
    {timestamp: "2021-07-14 15:28:00"},
    {timestamp: "2021-07-14 15:28:30"},
    {timestamp: "2021-07-14 15:29:00"},
    {timestamp: "2021-07-14 15:29:30"},
    {timestamp: "2021-07-14 15:30:00"},
    {timestamp: "2021-07-14 15:30:30"},
    {timestamp: "2021-07-14 15:31:00"},
    {timestamp: "2021-07-14 15:31:30"},
    {timestamp: "2021-07-14 15:32:00"},
    {timestamp: "2021-07-14 15:32:30"},
    {timestamp: "2021-07-14 15:33:00"},
    {timestamp: "2021-07-14 15:33:30"},
    {timestamp: "2021-07-14 15:34:00"},
    {timestamp: "2021-07-14 15:34:30"},
    {timestamp: "2021-07-14 15:35:00"},
    {timestamp: "2021-07-14 15:35:30"},
    {timestamp: "2021-07-14 15:36:00"},
    {timestamp: "2021-07-14 15:36:30"},
    {timestamp: "2021-07-14 15:37:00"},
    {timestamp: "2021-07-14 15:37:30"},
    {timestamp: "2021-07-14 15:38:00"},
    {timestamp: "2021-07-14 15:38:30"},
    {timestamp: "2021-07-14 15:39:00"},
    {timestamp: "2021-07-14 15:39:30"},
    {timestamp: "2021-07-14 15:40:00"},
    {timestamp: "2021-07-14 15:40:30"},
    {timestamp: "2021-07-14 15:41:00"},
    {timestamp: "2021-07-14 15:41:30"},
    {timestamp: "2021-07-14 15:42:00"},
    {timestamp: "2021-07-14 15:42:30"},
    {timestamp: "2021-07-14 15:43:00"},
    {timestamp: "2021-07-14 15:43:30"},
    {timestamp: "2021-07-14 15:44:00"},
    {timestamp: "2021-07-14 15:44:30"},
    {timestamp: "2021-07-14 15:45:00"},
    {timestamp: "2021-07-14 15:45:30"},
    {timestamp: "2021-07-14 15:46:00"},
    {timestamp: "2021-07-14 15:46:30"},
    {timestamp: "2021-07-14 15:47:00"},
    {timestamp: "2021-07-14 15:47:30"},
    {timestamp: "2021-07-14 15:48:00"},
    {timestamp: "2021-07-14 15:48:30"},
    {timestamp: "2021-07-14 15:49:00"},
    {timestamp: "2021-07-14 15:49:30"},
    {timestamp: "2021-07-14 15:50:00"},
    {timestamp: "2021-07-14 15:50:30"},
    {timestamp: "2021-07-14 15:51:00"},
    {timestamp: "2021-07-14 15:51:30"},
    {timestamp: "2021-07-14 15:52:00"},
    {timestamp: "2021-07-14 15:52:30"},
    {timestamp: "2021-07-14 15:53:00"},
    {timestamp: "2021-07-14 15:53:30"},
    {timestamp: "2021-07-14 15:54:00"},
    {timestamp: "2021-07-14 15:54:30"},
    {timestamp: "2021-07-14 15:55:00"},
    {timestamp: "2021-07-14 15:55:30"},
    {timestamp: "2021-07-14 15:56:00"},
    {timestamp: "2021-07-14 15:56:30"},
    {timestamp: "2021-07-14 15:57:00"},
    {timestamp: "2021-07-14 15:57:30"},
    {timestamp: "2021-07-14 15:58:00"},
    {timestamp: "2021-07-14 15:58:30"},
    {timestamp: "2021-07-14 15:59:00"},
    {timestamp: "2021-07-14 15:59:30"},
    {timestamp: "2021-07-14 16:00:00"}
  ];
  ALPHA_VANTAGE_URL = "https://alpha-vantage.p.rapidapi.com/query?interval=15min&function=TIME_SERIES_INTRADAY";
  header = new HttpHeaders({
    'X-RapidAPI-Key': '46e933289emshcefa6f248988445p172b80jsn0a322687ee93',
    'X-RapidAPI-Host': ''
  });
  constructor(
    private http: HttpClient
  ) { }


  getDailies(symbol: string): Observable<any> {
    this.header.set('X-RapidAPI-Host', 'alpha-vantage.p.rapidapi.com');
    return this.http.get<any>(`${this.ALPHA_VANTAGE_URL}&symbol=PEP&datatype=json&outputsize=compact`, {headers: this.header})
      .pipe(
        map((data) => {
          let temp = this.convert(data);
          let returned = new Array();
          this.TIMESTAMP.map(t=>{
            let filteredTime = temp.filter(ts=>ts.timestamp==t.timestamp);
            if(filteredTime.length==0){
              let returnedObj = {
                timestamp:t.timestamp,
                open:0,
                high:0,
                low:0,
                close:0,
                volume:0
              }
              returned.push(returnedObj);
            }
            else{
              returned.push(filteredTime[0]);
            }
          })
          return returned;
        })
      )
  }


  // convert Data to match with NgxChart format
  convert(data: any){
    const rawSeries = data['Time Series (15min)'];
    if (rawSeries != null){
      const series = Object.keys(rawSeries).reverse().map(timestamp => {
        return {timestamp: timestamp,
          open: rawSeries[timestamp]['1. open'],
          high: rawSeries[timestamp]['2. high'],
          low: rawSeries[timestamp]['3. low'],
          close: rawSeries[timestamp]['4. close'],
          volume: rawSeries[timestamp]['5. volume']
        };
      });
      return series;
    }
  }
}
